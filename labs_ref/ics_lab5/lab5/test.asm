.ORIG x4000
AND R0, R0, #0
ADD R0, R0, #3

FACT ADD R6, R6, #-1
STR R1, R6, #0

ADD R1, R0, #0
BRz DONE

ADD R6, R6, #-1
STR R7, R6, #0

ADD R0, R0, #-1
B JSR FACT
ADD R0, R0, R0
ADD R0, R0, #1

LDR R7, R6, #0
ADD R6, R6, #1

DONE LDR R1, R6, #0
ADD R6, R6, #1
STI R0, NUM
HANOI_R .FILL xFFFF
NUM .FILL x3FFF
.END