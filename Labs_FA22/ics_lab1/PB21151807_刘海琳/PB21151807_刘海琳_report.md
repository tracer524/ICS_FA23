#Lab1 实验报告
###（一）目的与原理
- 本实验将通过使用LC-3 Tools编写机器码，利用LC-3中的基本指令和寄存器解决以下问题。
- 给定两个二进制数字A、B分别存放于x3100和x3101，其中B值小于等于A的位数。请编写一程序，从x3000开始运行，求A的最小B位数字中1的个数，并将结果存放进x3102。如A=13，B=3，输出为2；A=167，B=6，输出为4；A=32767，B=15，输出为15。
  
###（二）编写过程 
 - 程序设计思路：我们将运用一些寄存器来存放过程数与结果。令R1表示用于对操作数取位的数，R2表示1出现过的次数，R3存放A值，R4存放B值，R5用于存放操作数与R1相与之后的结果。R1的初始值设定为1。我们知道，在二进制下，R1每乘以2，1的位数就会左移一位。如R1=0001，R1<-R1+R1后，R1=0010，再让R1<-R1+R1后，R1=0100，以此类推。这样我们通过让R1与A值不断相与，就可以逐步知道A中某一位究竟是否为1。如果相与的结果为1，则说明A这一位的值也是1，反之为0。结果为1后，负责计数的R2<-R2+1。每进行一次上述操作，R4就减一，直到R4为0跳出循环。此时R2中存放的数字就是1的个数，我们直接将其输出到x3102中。
 - 注意事项：
   1、相关寄存器使用前最好清零
   2、记得写终止程序
 
###（三）具体代码
```
0011000000000000        ; 从x3000开始运行
0101 010 010 1 00000    ; R2清零
0010 011 011111110      ; R3保存A值
0101 001 001 100000     ; R1清零
0001 001 001 1 00001    ; R1<-R1+1
0010 100 011111100      ; R4保存B值
0001 100 100 1 00000    ; 留下R4结果进入下一行条件码判断
0000 010 000000110      ; 判断R4是否是0.非0则继续计数
0101 101 001 0 00011    ; 将R1和R3相与的结果存放到R5
0000 010 000000001      ; 如果R5是0则说明A该位置是0
0001 010 010 1 00001    ; R2<-R2+1
0001 001 001 0 00001    ; R1<-R1+R1
0001 100 100 1 11111    ; R4<-R4-1
0000 111 111111001      ; 无条件跳转至x3006
0011 010 011110100      ; 将R2的值输出至x3102
1111 0000 00100101      ; 终止程序
```

###（四）结果测试
- test1
![1](test1.jpg)
- test2 
![2](test2.jpg)
- test3
![3](test3.jpg)